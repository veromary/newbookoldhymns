<!DOCTYPE html>
<html>
<head>
	<title>Crossword</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
	<style>
		#layout {
			width : 90%;
			border : 1px solid black;
			border-collapse : collapse;
			margin : auto;
		}

		.crossword {
			margin : auto;
			margin-top : 20px;
			border-collapse : collapse;
		}

		.crossword tr td {
			width : 30px;
			height : 30px;
		}

		.letter {
			border : 1px solid black;
			background-color : white;
			text-align : center;
		}

		.num {
			font-size : 8px;
			width : 0px;
			height : 0px;
			position : relative;
			top : -6px;
		}

		.clues {
			border : 1px solid black;
			border-collapse : collapse;
			width : 90%;
			margin : auto;
		}

		.clues td {
			border : 1px solid black;
			vertical-align: top;
			width : 45%;
		}

		.clues td h2 {
			text-align: center;
		}

		.clues td ul {
			list-style-type : none;
			padding : 8px 8px 8px 8px;
			text-align : justify;
		}

		.empty {
			background-color : white;
		}

		.dark {
			background-color : black;
		}

		.center {
			text-align : center;
		}
	</style>
	<script>
		var res = [ "S", "O", "L", "V", "E", "M", "I", "P", "O", "R", "T", "A"
		          , "F", "A", "C", "N", "O", "S", "T", "E", "L", "E", "U", "C"
		          , "A", "E", "L", "I", "S", "A", "L", "L", "M", "L", "N", "I"
		          , "P", "I", "N", "P", "A", "C", "E", "C", "O", "X", "I", "T"
		          , "L", "A", "U", "S", "S", "T", "E", "L", "L", "A", "V", "S"
		          , "T", "S", "I", "N", "T", "E", "R", "L", "U", "M", "E", "N"
		          , "O", "A", "A", "C", "S", "M", "A", "T", "E", "R", "L", "V"
		          , "I", "A", "L", "M", "A", "P", "R", "E", "C", "E", "S"];

		var num = [ 20, -1, -1, 19, -1, 10, -1, 12, -1, -1, -1, -1
		          , 18, -1, 17, -1, -1, -1, -1, -1, -1, -1, -1, 13
		          , -1, -1, -1, -1, -1, -1, -1, -1, 15, -1, -1, -1
		          , -1, 14, -1, -1, -1, -1, -1, 8, -1, -1, -1, -1
		          , 11, -1, -1, -1, 16, -1, -1, -1, -1, -1, 4, -1
		          , -1, -1, 7, -1, -1, -1, -1, 1, -1, 2, -1, -1
		          , -1, -1, -1, -1, -1, 3, 6, -1, -1, -1, -1, -1
		          , -1, 9, -1, -1, -1, 5, -1, -1, -1, -1, -1];

		var locked = new Array();
		for(i = 0; i < res.length; i++) locked[i] = false;

		var selected = null;
		var selecnum = -1;

		function clickfun(o, i){
			if(selected != null) selected.style.backgroundColor =  "white";
			selected = null;
			selecnum = -1;
			if(!locked[i]){
				selected = o;
				selecnum = i;
				o.style.backgroundColor = "#DDDDDD";
			}
		}

		function setletter(e){
			if(selected != null){
				code = e.charCode;
				if(code >= 97) code = code - 97 + 65;
				if(code >= 65 && code <= 90){
					if(num[selecnum] == -1)
						selected.innerHTML = String.fromCharCode(code);
					else
						selected.innerHTML = "<div class=\"num\">" + num[selecnum]
							+ "</div>" + String.fromCharCode(code);
					selected.style.backgroundColor = "white";
					selected = null;
					selecnum = -1;
				}
			}
		}

		function docheck(){
			for(i = 0; i < res.length; i++){
				str = document.getElementById('l' + i).innerHTML;
				if(str != "" && str != "<div class=\"num\">" + num[i] + "</div>"){
					if(str == res[i] || str == "<div class=\"num\">" + num[i] + "</div>" + res[i]){
						locked[i] = true;
						document.getElementById('l' + i).style.backgroundColor = "#00DD00"
					} else {
						document.getElementById('l' + i).style.backgroundColor = "#DD0000"
					}
				}
			}
		}

		function solve(){
			for(i = 0; i < res.length; i++){
				if(num[i] == -1)
					document.getElementById('l' + i).innerHTML = res[i];
				else
					document.getElementById('l' + i).innerHTML = "<div class=\"num\">"
						+ num[i] + "</div>" + res[i]
				document.getElementById('l' + i).style.backgroundColor = "#00DD00"
			}
			selected = null;
			selecnum = -1;
		}

		function reinit(){
			for(i = 0; i < res.length; i++){
				if(num[i] == -1)
					document.getElementById('l' + i).innerHTML = "";
				else
					document.getElementById('l' + i).innerHTML = "<div class=\"num\">"
						+ num[i] + "</div>"
				document.getElementById('l' + i).style.backgroundColor = "white"
				locked[i] = false;
			}
			selected = null;
			selecnum = -1;
		}
	</script>
</head>
<body onkeypress="setletter(event);">
	<table id="layout">
		<tr>
			<td colspan="2">
				<table class="crossword">
					<tr>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l0" onclick="clickfun(this, 0);"><div class="num">20</div></td>
						<td class="letter" id="l1" onclick="clickfun(this, 1);"></td>
						<td class="letter" id="l2" onclick="clickfun(this, 2);"></td>
						<td class="letter" id="l3" onclick="clickfun(this, 3);"><div class="num">19</div></td>
						<td class="letter" id="l4" onclick="clickfun(this, 4);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l5" onclick="clickfun(this, 5);"><div class="num">10</div></td>
					</tr>
					<tr>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l6" onclick="clickfun(this, 6);"></td>
						<td class="empty"></td>
						<td class="letter" id="l7" onclick="clickfun(this, 7);"><div class="num">12</div></td>
						<td class="letter" id="l8" onclick="clickfun(this, 8);"></td>
						<td class="letter" id="l9" onclick="clickfun(this, 9);"></td>
						<td class="letter" id="l10" onclick="clickfun(this, 10);"></td>
						<td class="letter" id="l11" onclick="clickfun(this, 11);"></td>
					</tr>
					<tr>
						<td class="letter" id="l12" onclick="clickfun(this, 12);"><div class="num">18</div></td>
						<td class="letter" id="l13" onclick="clickfun(this, 13);"></td>
						<td class="letter" id="l14" onclick="clickfun(this, 14);"><div class="num">17</div></td>
						<td class="letter" id="l15" onclick="clickfun(this, 15);"></td>
						<td class="letter" id="l16" onclick="clickfun(this, 16);"></td>
						<td class="letter" id="l17" onclick="clickfun(this, 17);"></td>
						<td class="empty"></td>
						<td class="letter" id="l18" onclick="clickfun(this, 18);"></td>
						<td class="empty"></td>
						<td class="letter" id="l19" onclick="clickfun(this, 19);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l20" onclick="clickfun(this, 20);"></td>
					</tr>
					<tr>
						<td class="letter" id="l21" onclick="clickfun(this, 21);"></td>
						<td class="empty"></td>
						<td class="letter" id="l22" onclick="clickfun(this, 22);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l23" onclick="clickfun(this, 23);"><div class="num">13</div></td>
						<td class="letter" id="l24" onclick="clickfun(this, 24);"></td>
						<td class="letter" id="l25" onclick="clickfun(this, 25);"></td>
						<td class="letter" id="l26" onclick="clickfun(this, 26);"></td>
						<td class="letter" id="l27" onclick="clickfun(this, 27);"></td>
						<td class="letter" id="l28" onclick="clickfun(this, 28);"></td>
						<td class="empty"></td>
						<td class="letter" id="l29" onclick="clickfun(this, 29);"></td>
					</tr>
					<tr>
						<td class="letter" id="l30" onclick="clickfun(this, 30);"></td>
						<td class="empty"></td>
						<td class="letter" id="l31" onclick="clickfun(this, 31);"></td>
						<td class="empty"></td>
						<td class="letter" id="l32" onclick="clickfun(this, 32);"><div class="num">15</div></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l33" onclick="clickfun(this, 33);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l34" onclick="clickfun(this, 34);"></td>
					</tr>
					<tr>
						<td class="letter" id="l35" onclick="clickfun(this, 35);"></td>
						<td class="empty"></td>
						<td class="letter" id="l36" onclick="clickfun(this, 36);"></td>
						<td class="empty"></td>
						<td class="letter" id="l37" onclick="clickfun(this, 37);"><div class="num">14</div></td>
						<td class="letter" id="l38" onclick="clickfun(this, 38);"></td>
						<td class="letter" id="l39" onclick="clickfun(this, 39);"></td>
						<td class="letter" id="l40" onclick="clickfun(this, 40);"></td>
						<td class="letter" id="l41" onclick="clickfun(this, 41);"></td>
						<td class="letter" id="l42" onclick="clickfun(this, 42);"></td>
						<td class="empty"></td>
						<td class="letter" id="l43" onclick="clickfun(this, 43);"><div class="num">8</div></td>
						<td class="empty"></td>
						<td class="letter" id="l44" onclick="clickfun(this, 44);"></td>
					</tr>
					<tr>
						<td class="letter" id="l45" onclick="clickfun(this, 45);"></td>
						<td class="empty"></td>
						<td class="letter" id="l46" onclick="clickfun(this, 46);"></td>
						<td class="empty"></td>
						<td class="letter" id="l47" onclick="clickfun(this, 47);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l48" onclick="clickfun(this, 48);"><div class="num">11</div></td>
						<td class="letter" id="l49" onclick="clickfun(this, 49);"></td>
						<td class="letter" id="l50" onclick="clickfun(this, 50);"></td>
						<td class="letter" id="l51" onclick="clickfun(this, 51);"></td>
					</tr>
					<tr>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l52" onclick="clickfun(this, 52);"><div class="num">16</div></td>
						<td class="letter" id="l53" onclick="clickfun(this, 53);"></td>
						<td class="letter" id="l54" onclick="clickfun(this, 54);"></td>
						<td class="letter" id="l55" onclick="clickfun(this, 55);"></td>
						<td class="letter" id="l56" onclick="clickfun(this, 56);"></td>
						<td class="letter" id="l57" onclick="clickfun(this, 57);"></td>
						<td class="empty"></td>
						<td class="letter" id="l58" onclick="clickfun(this, 58);"><div class="num">4</div></td>
						<td class="empty"></td>
						<td class="letter" id="l59" onclick="clickfun(this, 59);"></td>
						<td class="empty"></td>
						<td class="letter" id="l60" onclick="clickfun(this, 60);"></td>
					</tr>
					<tr>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l61" onclick="clickfun(this, 61);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l62" onclick="clickfun(this, 62);"><div class="num">7</div></td>
						<td class="letter" id="l63" onclick="clickfun(this, 63);"></td>
						<td class="letter" id="l64" onclick="clickfun(this, 64);"></td>
						<td class="letter" id="l65" onclick="clickfun(this, 65);"></td>
						<td class="letter" id="l66" onclick="clickfun(this, 66);"></td>
					</tr>
					<tr>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l67" onclick="clickfun(this, 67);"><div class="num">1</div></td>
						<td class="letter" id="l68" onclick="clickfun(this, 68);"></td>
						<td class="letter" id="l69" onclick="clickfun(this, 69);"><div class="num">2</div></td>
						<td class="letter" id="l70" onclick="clickfun(this, 70);"></td>
						<td class="letter" id="l71" onclick="clickfun(this, 71);"></td>
						<td class="empty"></td>
						<td class="letter" id="l72" onclick="clickfun(this, 72);"></td>
						<td class="empty"></td>
						<td class="letter" id="l73" onclick="clickfun(this, 73);"></td>
					</tr>
					<tr>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l74" onclick="clickfun(this, 74);"></td>
						<td class="empty"></td>
						<td class="letter" id="l75" onclick="clickfun(this, 75);"></td>
						<td class="empty"></td>
						<td class="letter" id="l76" onclick="clickfun(this, 76);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
					</tr>
					<tr>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l77" onclick="clickfun(this, 77);"><div class="num">3</div></td>
						<td class="letter" id="l78" onclick="clickfun(this, 78);"><div class="num">6</div></td>
						<td class="letter" id="l79" onclick="clickfun(this, 79);"></td>
						<td class="letter" id="l80" onclick="clickfun(this, 80);"></td>
						<td class="letter" id="l81" onclick="clickfun(this, 81);"></td>
						<td class="empty"></td>
						<td class="letter" id="l82" onclick="clickfun(this, 82);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
					</tr>
					<tr>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l83" onclick="clickfun(this, 83);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l84" onclick="clickfun(this, 84);"></td>
						<td class="empty"></td>
						<td class="letter" id="l85" onclick="clickfun(this, 85);"><div class="num">9</div></td>
						<td class="letter" id="l86" onclick="clickfun(this, 86);"></td>
						<td class="letter" id="l87" onclick="clickfun(this, 87);"></td>
						<td class="letter" id="l88" onclick="clickfun(this, 88);"></td>
						<td class="empty"></td>
					</tr>
					<tr>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="letter" id="l89" onclick="clickfun(this, 89);"><div class="num">5</div></td>
						<td class="letter" id="l90" onclick="clickfun(this, 90);"></td>
						<td class="letter" id="l91" onclick="clickfun(this, 91);"></td>
						<td class="letter" id="l92" onclick="clickfun(this, 92);"></td>
						<td class="letter" id="l93" onclick="clickfun(this, 93);"></td>
						<td class="letter" id="l94" onclick="clickfun(this, 94);"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
						<td class="empty"></td>
					</tr>
				</table>
				<p class="center">
					<input type="button" value="Check"onclick="docheck();"/>
					<input type="button" value="Solve"onclick="solve();"/>
					<input type="button" value="Reinit"onclick="reinit();"/>
				</p>
			</td>
		</tr>
		<tr class="clues">
			<td>
				<h2>Across</h2>
				<ul>
					<li>1 - light</li>
					<li>3 - mother</li>
					<li>5 - prayers</li>
					<li>7 - among</li>
					<li>9 - beloved / sweet</li>
					<li>11 - praise</li>
					<li>12 - gate</li>
					<li>13 - of heaven</li>
					<li>14 - in peace</li>
					<li>16 - star</li>
					<li>18 - make us</li>
					<li>20 - loosen</li>
				</ul>
			</td>
			<td>
				<h2>Down</h2>
				<ul>
					<li>2 - of the sea</li>
					<li>4 - chains</li>
					<li>6 - hail</li>
					<li>8 - chaste</li>
					<li>10 - our evils</li>
					<li>12 - drive away</li>
					<li>15 - gentle</li>
					<li>17 - from sins</li>
					<li>19 - life</li>
					<li>18 - happy</li>
				</ul>
			</td>
		</tr>
	</table>
</body>
</html>
